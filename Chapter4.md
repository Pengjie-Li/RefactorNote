# Chapter 4 构筑测试体系 #
* 测试程序的主要目的是找到bug,让项目代码的功能正常实现
* 合适的测试可以提高编程速度
* 测试是重构的前提

## 4.1 自测试代码的价值 ##
* 程序员的时间
	* 编写代码只占很小的一部分
	* 决定下一步怎么做
	* 设计代码
	* 测试，找bug
* 重复了无数次的故事
	* 花费一整天的时间只是找到一个小问题
	* 修复这个错误往往及其简单
	* 修好一个错误还有另外一个错误,再花好大的时间查找
> 类应该包含它们自己的测试代码
> 一套测试就是一个强大的bug侦测器,能够大大缩减查找bug所需要的时间

* 编写测试代码的时机
	* 开始编程之前
	* 编写测试代码就是在问自己：添加这个功能需要做些什么
* 本书的重点是讲重构,重构需要测试
* 测试手法
	* Java中测试惯用手法: testing main(),让每个类中包含一个main来用于测试
		* 缺点是难以运行多个测试
	* 建立独立类用于测试
		* 设计框架运行它
## 4.2 JUnit 测试框架 ## 
* 暂时跳过
## 4.3 添加更多测试 ##
* 测试应该是一种风险驱动的行为
* 测试的目的是找到现在或者未来可能出现的错误
* **因此不能对每一个函数，每一个特性做测试，这是得不偿失的**
> 测试你最担心出错的部分
> 编写未臻完善的测试并实际运行，好过对完美测试的无尽期待
> 考虑可能出错的边界条件，把测试火力集中在哪儿
* 当测试越来越多，可以生成一个类，专门用来做测试

* 什么时候应该停止测试
> 任何测试都不能证明一个程序没有bug
* 当测试的数量达到一定程度，继续增加测试的收益呈现递减趋势
* 编写太多的测试会导致因为工作量大而气馁，最后什么也干不成

